{"ast":null,"code":"var _jsxFileName = \"/Users/j/Desktop/Capstone/dog-pool/client/src/pages/ProfilePage/ProfilePage.jsx\";\nimport { API_URL } from \"../../App\";\nimport \"./ProfilePage.scss\";\nimport { Component } from \"react\";\nimport axios from \"axios\";\nimport { Link } from \"react-router-dom\";\nimport Header from \"../../components/Header/Header\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nclass ProfilePage extends Component {\n  constructor() {\n    super(...arguments);\n    this.state = {\n      user: null,\n      dog: null,\n      failedAuth: false\n    };\n\n    this.handleLogout = () => {\n      sessionStorage.removeItem(\"token\");\n      this.setState({\n        user: null,\n        failedAuth: true\n      });\n    };\n\n    this.addDogToPool = () => {};\n\n    this.removeFromPool = () => {};\n  }\n\n  componentDidMount() {\n    const token = sessionStorage.getItem(\"token\");\n\n    if (!token) {\n      this.setState({\n        failedAuth: true\n      });\n      return;\n    }\n\n    axios.get(API_URL + \"/current\", {\n      headers: {\n        Authorization: \"Bearer \" + token\n      }\n    }).then(res => {\n      this.setState({\n        user: res.data.user,\n        dog: res.data.dog\n      });\n    }).catch(err => {\n      console.log(err);\n      this.setState({\n        failedAuth: true\n      });\n    });\n  }\n\n  render() {\n    if (this.state.failedAuth) {\n      return /*#__PURE__*/_jsxDEV(\"main\", {\n        className: \"profile\",\n        children: /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"You must be logged in to see this page.\", \" \", /*#__PURE__*/_jsxDEV(Link, {\n            to: \"/login\",\n            children: \"Log in\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 62,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 9\n      }, this);\n    }\n\n    if (!this.state.user || !this.state.dog) {\n      return /*#__PURE__*/_jsxDEV(\"main\", {\n        className: \"profile\",\n        children: /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Loading...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 9\n      }, this);\n    }\n\n    const {\n      first_name\n    } = this.state.user;\n    const {\n      dog_name,\n      birthday,\n      dog_info,\n      photo\n    } = this.state.dog;\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(Header, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"main\", {\n        className: \"profile\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"profile__welcome\",\n          children: /*#__PURE__*/_jsxDEV(\"h1\", {\n            className: \"\",\n            children: [\"Welcome back, \", first_name, \" \"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 84,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"profile__dog\",\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            children: [\"dogs name: \", dog_name]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 88,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n            className: \"profile__dog-photo\",\n            src: photo,\n            alt: \"dog\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 89,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: dog_info\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 91,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"profile__status\",\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"Do you need your dog walked today?\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 95,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"profile__poolmydog-button\",\n            onClick: this.addDogToPool,\n            children: \"Pool My Dog\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 96,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"profile__remove-pool\",\n            onClick: this.removeFromPool,\n            children: \"remove\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 102,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"profile__logout\",\n          onClick: this.handleLogout,\n          children: \"Log out\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 110,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true);\n  }\n\n}\n\nexport default ProfilePage;","map":{"version":3,"sources":["/Users/j/Desktop/Capstone/dog-pool/client/src/pages/ProfilePage/ProfilePage.jsx"],"names":["API_URL","Component","axios","Link","Header","ProfilePage","state","user","dog","failedAuth","handleLogout","sessionStorage","removeItem","setState","addDogToPool","removeFromPool","componentDidMount","token","getItem","get","headers","Authorization","then","res","data","catch","err","console","log","render","first_name","dog_name","birthday","dog_info","photo"],"mappings":"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","sourcesContent":["import { API_URL } from \"../../App\";\nimport \"./ProfilePage.scss\";\nimport { Component } from \"react\";\nimport axios from \"axios\";\nimport { Link } from \"react-router-dom\";\nimport Header from \"../../components/Header/Header\";\n\nclass ProfilePage extends Component {\n  state = {\n    user: null,\n    dog: null,\n    failedAuth: false,\n  };\n\n  componentDidMount() {\n    const token = sessionStorage.getItem(\"token\");\n\n    if (!token) {\n      this.setState({ failedAuth: true });\n      return;\n    }\n\n    axios\n      .get(API_URL + \"/current\", {\n        headers: {\n          Authorization: \"Bearer \" + token,\n        },\n      })\n\n      .then((res) => {\n        this.setState({\n          user: res.data.user,\n          dog: res.data.dog,\n        });\n      })\n      .catch((err) => {\n        console.log(err);\n        this.setState({\n          failedAuth: true,\n        });\n      });\n  }\n\n  handleLogout = () => {\n    sessionStorage.removeItem(\"token\");\n    this.setState({\n      user: null,\n      failedAuth: true,\n    });\n  };\n\n  addDogToPool = () => {};\n\n  removeFromPool = () => {};\n\n  render() {\n    if (this.state.failedAuth) {\n      return (\n        <main className=\"profile\">\n          <p>\n            You must be logged in to see this page.{\" \"}\n            <Link to=\"/login\">Log in</Link>\n          </p>\n        </main>\n      );\n    }\n\n    if (!this.state.user || !this.state.dog) {\n      return (\n        <main className=\"profile\">\n          <p>Loading...</p>\n        </main>\n      );\n    }\n\n    const { first_name } = this.state.user;\n    const { dog_name, birthday, dog_info, photo } = this.state.dog;\n\n    return (\n      <>\n        <Header />\n        <main className=\"profile\">\n          <div className=\"profile__welcome\">\n            <h1 className=\"\">Welcome back, {first_name} </h1>\n          </div>\n\n          <div className=\"profile__dog\">\n            <p>dogs name: {dog_name}</p>\n            <img className=\"profile__dog-photo\" src={photo} alt=\"dog\" />\n\n            <p>{dog_info}</p>\n          </div>\n\n          <div className=\"profile__status\">\n            <p>Do you need your dog walked today?</p>\n            <button\n              className=\"profile__poolmydog-button\"\n              onClick={this.addDogToPool}\n            >\n              Pool My Dog\n            </button>\n            <button\n              className=\"profile__remove-pool\"\n              onClick={this.removeFromPool}\n            >\n              remove\n            </button>\n          </div>\n\n          <button className=\"profile__logout\" onClick={this.handleLogout}>\n            Log out\n          </button>\n        </main>\n      </>\n    );\n  }\n}\n\nexport default ProfilePage;\n"]},"metadata":{},"sourceType":"module"}